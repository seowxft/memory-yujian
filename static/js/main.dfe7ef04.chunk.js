(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(n,e,a){n.exports=a(27)},19:function(n,e,a){},20:function(n,e,a){},21:function(n,e,a){},27:function(n,e,a){"use strict";a.r(e);var t=a(0),i=a.n(t),c=a(11),g=a.n(c),r=(a(19),a(20),a(21),a(2)),o=a(4),l=a(3),m=a(8);var u=function(n){return i.a.createElement("h1",null,"\u5f20\u96e8\u5251 Memory Game")};var s=function(n){var e=n.children,a=n.start,t=n.bg,c=n.soundToggle,g=e[1],r=g?"On":"Off";return i.a.createElement("main",{className:"app "+t},i.a.createElement(u,null),i.a.createElement("nav",null,i.a.createElement("button",{onClick:a},i.a.createElement(o.a,{icon:l.b}),"Play"),i.a.createElement("button",{onClick:c},i.a.createElement(o.a,{icon:g?l.g:l.f}),r),i.a.createElement("a",{className:"button",href:"https://www.instagram.com/tysunkete/",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(o.a,{icon:m.a}),"IG")),i.a.createElement("ul",{className:"deck options fadein"},e))},p=a(6);function f(n){return function(n){for(var e=n.length-1;e>0;e--){var a=Math.floor(Math.random()*(e+1)),t=n[e];n[e]=n[a],n[a]=t}return n}(n.concat(Object(p.a)(n)))}var h=["/img/1_yujian/1.png","/img/1_yujian/2.png","/img/1_yujian/3.png","/img/1_yujian/4.png","/img/1_yujian/5.png","/img/1_yujian/6.png"],y=["/img/2_zhanying/1.png","/img/2_zhanying/2.png","/img/2_zhanying/3.png","/img/2_zhanying/4.png","/img/2_zhanying/5.png","/img/2_zhanying/6.png"],_=["/img/3_pianfeng/1.png","/img/3_pianfeng/2.png","/img/3_pianfeng/3.png","/img/3_pianfeng/4.png","/img/3_pianfeng/5.png","/img/3_pianfeng/6.png"],b=["/img/4_anyi/1.png","/img/4_anyi/2.png","/img/4_anyi/3.png","/img/4_anyi/4.png","/img/4_anyi/5.png","/img/4_anyi/6.png"],d=["/img/5_zhaohan/1.png","/img/5_zhaohan/2.png","/img/5_zhaohan/3.png","/img/5_zhaohan/4.png","/img/5_zhaohan/5.png","/img/5_zhaohan/6.png"],v=["/img/6_lanzhi/1.png","/img/6_lanzhi/2.png","/img/6_lanzhi/3.png","/img/6_lanzhi/4.png","/img/6_lanzhi/5.png","/img/6_lanzhi/6.png"],E=["/img/7_suifeng/1.png","/img/7_suifeng/2.png","/img/7_suifeng/3.png","/img/7_suifeng/4.png","/img/7_suifeng/5.png","/img/7_suifeng/6.png"],j=["/img/8_yanmo/1.png","/img/8_yanmo/2.png","/img/8_yanmo/3.png","/img/8_yanmo/4.png","/img/8_yanmo/5.png","/img/8_yanmo/6.png"],O=["/img/9_yihan/1.png","/img/9_yihan/2.png","/img/9_yihan/3.png","/img/9_yihan/4.png","/img/9_yihan/5.png","/img/9_yihan/6.png"],k=["/img/10_canyang/1.png","/img/10_canyang/2.png","/img/10_canyang/3.png","/img/10_canyang/4.png","/img/10_canyang/5.png","/img/10_canyang/6.png"],z=["/img/11_senhe/1.png","/img/11_senhe/2.png","/img/11_senhe/3.png","/img/11_senhe/4.png","/img/11_senhe/5.png","/img/11_senhe/6.png"],w=["/img/12_yituo/1.png","/img/12_yituo/2.png","/img/12_yituo/3.png","/img/12_yituo/4.png","/img/12_yituo/5.png","/img/12_yituo/6.png"],N=new Audio("%PUBLIC_URL%/audio/drop.mp3"),C=new Audio("%PUBLIC_URL%/audio/shuffle.mp3");var S={play:function(n){var e="".concat("/memory-yujian","/audio/").concat(n,".mp3");e!==N.src&&(N.src=e),N.currentTime=0,N.play()},result:function(n){var e="".concat("/memory-yujian","/audio/").concat(n,".mp3");e!==C.src&&(C.src=e),C.currentTime=0,C.play()}},I=a(5),T=a(12),M=a.n(T);var B=function(n){var e,a=n.bg,t=n.onClick,c=n.selected,g=n.value,r=n.flipping,o=n.matched,l=M()((e={card:!0},Object(I.a)(e,"".concat(a),!0),Object(I.a)(e,"selected",c),Object(I.a)(e,"flipping",r),Object(I.a)(e,"matched",o),e));return i.a.createElement("div",{onClick:function(n){c||o||r||t()},className:l},i.a.createElement("div",{className:"back"}),i.a.createElement("div",{className:"front"},i.a.createElement("p",null,i.a.createElement("img",{className:"frontimg",src:"/memory-yujian"+g,alt:"card stim",crossOrigin:"anonymous"}))))};var L=function(n,e){var a,c=e,g=Object(t.useState)(0),o=Object(r.a)(g,2),l=o[0],m=o[1],u=Object(t.useState)([]),s=Object(r.a)(u,2),N=s[0],C=s[1],I=Object(t.useState)({i:[],v:[]}),T=Object(r.a)(I,2),M=T[0],L=T[1],U=Object(t.useState)(0),D=Object(r.a)(U,2),G=D[0],P=D[1],R=Object(t.useState)(null),A=Object(r.a)(R,2),J=A[0],W=A[1],Y=Object(t.useState)(6e4),x=Object(r.a)(Y,2),$=x[0],q=x[1];"casual-yujian"===n&&(a=h),"lyb-zhanying"===n&&(a=y),"icefan-pianfeng"===n&&(a=_),"yaoguai-anyi"===n&&(a=b),"dd-zhaohan"===n&&(a=d),"orienody-lanzhi"===n&&(a=v),"ploughdep-suifeng"===n&&(a=E),"lecoup-yanmo"===n&&(a=j),"baituo-yihan"===n&&(a=O),"findyour-canyang"===n&&(a=k),"nightcomet-senhe"===n&&(a=z),"yituo"===n&&(a=w);var F=Object(t.useState)(f(a)),H=Object(r.a)(F,2),K=H[0],Q=H[1];Object(t.useEffect)(function(){var n;2===M.i.length&&((n=M).v[0]===n.v[1]?(c&&S.result("match"),C([].concat(Object(p.a)(N),[n.v[0]])),L({i:[],v:[]})):(m(function(){return l+1}),setTimeout(function(){c&&S.result("error"),L({i:[],v:[]})},500)))},[M]);var V=K.map(function(e,a){return i.a.createElement(B,{key:a,bg:n,onClick:function(){return function(n,e){var a=M.i,t=M.v;a.length<2&&(c&&S.play("flip"),L({i:[].concat(Object(p.a)(a),[e]),v:[].concat(Object(p.a)(t),[n])}))}(e,a)},value:e,matched:N.includes(e),flipping:M.i.includes(a)})}),X=N.length===K.length/2;return Object(t.useEffect)(function(){var n=null;return X?X&&0!==G&&clearInterval(n):n=setInterval(function(){var n=J||Date.now(),e=Date.now()-n,a=$-e;W(Date.now()),q(a),P(function(n){return a})},1),function(){return clearInterval(n)}},[!X,G]),[V,function(){c&&S.result("shuffle"),L({i:[],v:[]}),C([]),m(0),P(0),q(6e4),setTimeout(function(){return Q(f(a))},800)},l,X,G]};var U=function(n){var e=n.bg,a=n.stop,c=n.finish,g=n.children,m=L(e,g),s=Object(r.a)(m,5),p=s[0],f=s[1],h=s[2],y=s[3],_=s[4];Object(t.useEffect)(function(){y&&c(h,_)},[y]);var b=6e4-_,d=parseInt(b%1e3),v=Math.floor(b/1e3%60);return d<10?d="00"+d:d<100&&(d="0"+d),v=v<10?" "+v:v,i.a.createElement("main",{className:"game "+e},i.a.createElement(u,null),i.a.createElement("nav",null,i.a.createElement("button",{onClick:a},i.a.createElement(o.a,{icon:l.a})),i.a.createElement("span",{className:"errors"},"Errors: ",i.a.createElement("strong",null,h)),i.a.createElement("span",{className:"time"},"Time:\xa0",i.a.createElement("strong",null,v,"s ",d,"ms")),i.a.createElement("button",{onClick:f},i.a.createElement(o.a,{icon:l.c}))),i.a.createElement("div",{className:"deck fadein"},p))},D=a(13),G={bg:["casual-yujian","lyb-zhanying","icefan-pianfeng","yaoguai-anyi","dd-zhaohan","orienody-lanzhi","ploughdep-suifeng","lecoup-yanmo","baituo-yihan","findyour-canyang","nightcomet-senhe","yituo"]};var P=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"options",e=Object(t.useState)({bg:G.bg[0]}),a=Object(r.a)(e,2),c=a[0],g=a[1],o=Object(t.useState)({status:n}),l=Object(r.a)(o,2),m=l[0],u=l[1],s=Object(t.useState)(!0),p=Object(r.a)(s,2),f=p[0],h=p[1],y=G.bg.map(function(n,e){return i.a.createElement(B,{key:e,bg:n,onClick:function(){return function(n){g(Object(D.a)({},c,{bg:G.bg[n]})),f&&S.result("drop")}(e)},selected:G.bg[e]===c.bg})});return[c,m,{start:function(){f&&S.result("shuffle"),u({status:"playing"})},stop:function(){f&&S.result("drop"),u({status:"options"})},finish:function(n,e){f&&S.result("cheer"),u({status:"finished",errors:n,seconds:e})}},y,{soundToggle:function(){h(!f)}},f]};var R=function(n){var e=P(),a=Object(r.a)(e,1)[0];Object(t.useEffect)(function(){a&&S.play("cheer")},[]);var c=n.bg,g=n.errors,s=n.stop,p=n.start,f=g>1?"times":"time",h=6e4-n.seconds,y=parseInt(h%1e3),_=Math.floor(h/1e3%60);return y<10?y="00"+y:y<100&&(y="0"+y),_=_<10?" "+_:_,i.a.createElement("div",{className:"finish "+c},i.a.createElement("div",{className:"content"},i.a.createElement(u,null),i.a.createElement("h3",null,"Congrats!\xa0",i.a.createElement("span",{"aria-label":"clap",role:"img"},"\ud83d\udc4f\ud83d\udc4f\ud83d\udc4f")),i.a.createElement("p",null,"You only missed ",i.a.createElement("strong",null,g)," ",f,"!",i.a.createElement("br",null),"You took\xa0",i.a.createElement("strong",null,_,"s ",y,"ms"),"\xa0in total."),i.a.createElement("nav",null,i.a.createElement("button",{onClick:p},i.a.createElement(o.a,{icon:l.d}),"Restart"),i.a.createElement("button",{onClick:s},i.a.createElement(o.a,{icon:l.e}),"Options"),i.a.createElement("a",{className:"button",href:"https://www.instagram.com/tysunkete/",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(o.a,{icon:m.a}),"Github"),i.a.createElement("br",null))))};var A=function(n){var e=P(),a=Object(r.a)(e,6),t=a[0],c=a[1],g=a[2],o=a[3],l=a[4],m=a[5];return{playing:i.a.createElement(U,Object.assign({},g,t,c),m),finished:i.a.createElement(R,Object.assign({},g,t,c)),options:i.a.createElement(s,Object.assign({},t,g,l),o,m)}[c.status]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.dfe7ef04.chunk.js.map